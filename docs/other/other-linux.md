---
title: Linux
---

## 基础简介

-   虚拟机
    -   快照：保持当前状态，后期玩坏了随时可回到这里
    -   克隆：完全克隆与连接克隆，链接克隆相当于创建一个子系统，只要父系统没事，子系统就能随便搞
    -   重建：安装系统的目录下有一个 vmdk 文件，如果保持好，其他系统安装的时候选择现有磁盘，再选择这个 vmdk 文件，那么系统就能还原
-   Linux 发行版(Ubuntu、CentOs;同一个内核在市场上有三百多个发行版),在 Linux 内核上安装软件上

    -   红帽(RedHat)系列
        -   红帽企业版 收费
        -   CentOs 相当于免费红帽企业版系统，后期也被红帽公司收购了
    -   debian 系列
        -   Ubuntu(在 Debian 上二次开发的系统，图形界面效果好)

-   GNU 计划：崇尚代码开源
-   Shell：指用户界面，包括图形界面（GUI）和字符界面（CLI），Linux 以字符界面为主，所以字符界面称为是`Shell`
    -   通过字符界面操作的指令叫做 shell 指令（cat /etc/shells）查看 Shell 目录
    -   Linux 默认使用的是目录中的 `/bin/bash`(通过 echo $SHELL 可以查看)
    -   进入图形界面： `ctrl+alt+f1`
    -   进入字符界面： `ctrl+alt+f2~6` ,打开五个字符 Shell
    -   echo 查看$变量值
-   终端：通常把一套键盘鼠标显示屏这样的输入输出设备叫做`终端`
    -   笔记本这样的叫做`物理终端`，一个设备只有一个
    -   通过各种软件打开的字符界面叫`虚拟终端`可以很多个
    -   tty ： 查看当前使用终端的名称
-   远程工具
    -   Xshell：通过远程 Linux 的 ip，连接到远程
        -   必须能 ping 通的才行
        -   win10 默认不让其他人 ping 的，要去防火墙入站规则中设置
        -   拥有账户
    -   XMANAGER
-   命令提示符：[lzoxun@bogon ~]$ --> `[用户名@计算机名 所在目录]`
    -   ~ ：指用户家目录，每个用户都不一样
    -   $ ：普通用户
    -   \# ：root 用户

## 指令

-   格式 ： 命令 + [选项] + [参数]
-   参数 ： 命令要`处理的对象`
-   选项 ： `调节`命令的具体功能，带 - 前缀
-   tab 补全目录| ；多个命令用分号隔离

### 业务操作命令

-   `pwd` ：查看当前所在路径
    - `-P`: 对于软连接文件 显示真实所在的路径 并非快捷方式的路径   
-   `su <user-name>` ： 切换用户
-   `passwd <user-name>` ：更改用户密码（需要交互）
    -   `echo '123' | passwd --stdin <user-name>`：直接设置

### 文件操作

-   `cd` ：进入
    -   `cd -` ：进入之前所在目录
-   `ls`：查看目录的文件
    -   -l ：查看详细信息
    -   -a ： 查看所以文件包括隐藏文件
    -   -d ： 查看目录`自己的`信息
    -   -h ： 以 k、M 格式显示文件大小
    -   -R ：当前目录为根节点，列出所有子节点
    -   --help ：单词一般都有两个杠
-   `touch <file-name>`：创建空文件
-   `mkdir <name1> <name2>`：创建空文件夹
    -   `-p a/b/c` ：创建多级目录
-   `rmdir <name1>`： 删除空目录
-   `rm <file-name>`： 删除文件
    -   `-f`：直接删除
    -   `-r`：删除目录
    -   `-rf`：强制删除目录下所有文件与文件夹
-   `cp <old-file> <new-file> `： 复制文件(new-file 有-复制，无-改名)
    -   `-r` ：复制目标可以是目录
    -   `-p` ：保留复制目标文件属性
-   `mv <old-file> <new-file> `： 剪切（剪切目录不要 -r）

### 文件内容操作

-   `cat`：查看文本文件内容
    -   `-n`：显示行号
-   `more`：查看文本文件内容，分页功能满屏幕自动暂停，底部自动退出
-   `less`：查看文本文件内容，分页功能满屏幕自动暂停，手动按 Q 退出
-   `head -3 和 tail -3`：查看文件前 n 行或最后 n 行，指定行数

    -   `-f`：监听文件数据变化

-   `wc -l`：查看文件行数
-   `echo 'abc'`：输出内容，查看变量内容

    -   `> a.txt`: 内容重定向到指定文件

-   `grep "key" <file-path>`:从指定文件中查找关键字（支持正则不支持通配符）
    -   `"^key$"`：正则直接操作关键字
    -   `-n`：行号
    -   `-v`：查找关键字规则不匹配的
    -   `-i`：不区分大小写
    -   `-w`：独立单词
    -   `-r`：递归查询子目录文件内容
-   `diff <file-name> <file-name2>`:比较两个文件，列出不同的内容
    -   对比规则
        -   `a`:增加
        -   `d`:删除
        -   `c`:改变
        -   `<`:前面文件 1
        -   `>`:后面文件 2
    -   `12a13;>abcd`:文件 2 比文件 1 新增加了一行内容，文件 2 多出 abcd

### 基本系统运用指令

-   `ifconfig` ：查看 ip （ens33 格式、lo、virbr0 虚拟网卡）等网卡
-   `poweroff` ：关机
-   `reboot` ：重启
-   `shutdown`
    -   -h now ：立即关机
    -   -h +15 ：一段时间后关机
    -   -r now ：立即重启
    -   -r +15 "给其他在线用户发送信息" ：一段时间后重启
    -   -c ：取消之前 shutdown 的操作

### 字符

-   通配符
    -   `*`：匹配任意数量任意字符
    -   `?`：匹配单个任意字符
    -   `[]`： 匹配指定范围内任意单个字符 如：[0-9]其中之一，[!12]不能是 1 2
-   `{}`：可展开如：mkdir /home/{a,b,c} 创建三个文件

## 文件

> ls -l 查看文件详情

### 文件详情

-   `第一组 权限`：[类型][rwx rwx rwx]
    -   第一位代表类型
        -   `-`：普通文件
        -   `d`：文件夹
        -   `l`：软链接，快捷方式
        -   `c`：字符设备
        -   `b`：块设备
-   `第二组`：被硬链接的次数
-   `第三组`：文件所有者
-   `第四组`：文件所属组
-   `第五组`：文件大小
-   `第六组`：创建或最后一次修改时间
-   `第七组`：文件名（.当前目录、.. 上级目录）

### 目录信息

> 一切皆文件 、绝对路径、相对路径

-   `/`：跟目录(所以文件的起点)
-   `/boot`：存系统启动相关文件，Kernel 内核的位置，通常独立划分区
-   `/etc`：存各种配置文件，类似 window 注册表
-   `/dev`：存硬盘、光驱、鼠标等硬件设备
-   `/bin`：存最常用的基本命令，`任何用户`都有权限访问
-   `/sbin`：存最基本管理命令，`管理员`才有权限访问
-   `/usr`：默认软件安装路径
-   `/home`：普通用户家目录
-   `/root`：root 户家目录
-   `/mnt`：`临时`挂载存储设备
-   `/media`：系统自动挂载可移动存储设备
-   `/var`：存放`经常变化`的文件
-   `/proc`：存放进程文件
-   `/run`：存放临时文件，重启消失
-   `/lib、/lib64` ： 链接库

-   `srv`
-   `tmp`
-   `sys`
-   `opt`

## 其他

### 提升效率

-   `tab` 补全目录
-   `history`：查看历史命令
-   `esc + .`：快速得到上一次指令中的路径
-   `--help`：查看指令详细信息

### 不重要

-   $SHELL :一般全大写的系统自带环境变量
-   uname :查看系统信息
